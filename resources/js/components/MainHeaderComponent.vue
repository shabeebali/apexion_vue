<template>
    <div>
      <v-toolbar dense app clipped-left clipped-right fixed dark color="teal darken-4">
        <v-toolbar-side-icon v-if="$vuetify.breakpoint.smAndDown" @click="$emit('sidebar-toggle')"></v-toolbar-side-icon>
        <v-btn icon @click.stop="main_menu_dialog = true">
            <v-icon>apps</v-icon>
        </v-btn>

        <v-toolbar-title class="white--text">Title</v-toolbar-title>

        <v-spacer></v-spacer>

        <v-btn icon>
          <v-icon>search</v-icon>
        </v-btn>

        <v-btn icon>
          <v-icon>apps</v-icon>
        </v-btn>

        <v-btn icon @click="logout">
          <v-icon>logout</v-icon>
        </v-btn>

        <v-btn icon>
          <v-icon>more_vert</v-icon>
        </v-btn>
      </v-toolbar>
      <v-dialog v-model="main_menu_dialog" fullscreen hide-overlay transition="dialog-bottom-transition">
          <v-card color="teal" :style="{background: menuBackground, backgroundSize:'cover'}">
              <v-toolbar dark dense color="primary">
                  <v-btn icon dark @click="main_menu_dialog = false">
                      <v-icon>close</v-icon>
                  </v-btn>
              </v-toolbar>
              <v-layout row wrap px-5 py-5 class="justify-center">
                <v-flex xs12 sm4 md2 lg1  v-for="item in main_menu_items" :key="item.index">
                  <v-layout column class="align-center">
                    <v-flex>
                      <v-btn color="primary" fab dark :large="$vuetify.breakpoint.mdAndUp" :small="$vuetify.breakpoint.xsOnly" :medium="$vuetify.breakpoint.smAndUp" v-bind:to="item.route" @click="main_menu_dialog = false">
                        <v-icon>
                          {{item.icon}}
                        </v-icon>
                      </v-btn>
                    </v-flex>
                    <v-flex class="white--text font-weight-bold text-uppercase">
                      {{item.name}}
                    </v-flex>
                  </v-layout>
                </v-flex>
              </v-layout>
          </v-card>
      </v-dialog>
  </div>
</template>
<script>
    export default{
        data () {
            return {
              main_menu_dialog: false,
              //main_menu_items : '',
              menuBackground:'url("'+this.$asset+'/svg/apexion_logo.svg")'
            }
        },
        props:['main_menu_items'],
        created:function(){

        },
        methods:{
            logout:function(){
                axios.post('http://localhost/apexion/public/logout').then(
                    function(response){
                        localStorage.removeItem('token');
                        window.location = 'http://localhost/apexion/public';
                    }
                )
            }
        }
    }
</script>
